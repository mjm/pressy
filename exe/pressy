#!/usr/bin/env ruby
require "pressy"

def main
  store = Pressy::Store::FileStore.new(Dir.pwd)
  site = Pressy::Site.new(store)
  registry = Pressy::Command::Registry.default

  action = ARGV.shift&.to_sym

  runner = Pressy::Command::Runner.new(registry, site, Pressy::Console.new)
  runner.run(action, *ARGV)
end

main
